var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GameConfig=function(){function GameConfig(){}return GameConfig.init=function(){Laya.ClassUtils.regClass},GameConfig.width=750,GameConfig.height=1334,GameConfig.scaleMode="fixedwidth",GameConfig.screenMode="vertical",GameConfig.alignV="middle",GameConfig.alignH="center",GameConfig.startScene="test/RankRender.scene",GameConfig.sceneRoot="",GameConfig.debug=!1,GameConfig.stat=!1,GameConfig.physicsDebug=!1,GameConfig.exportSceneToJson=!0,GameConfig}();(exports.default=GameConfig).init()},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GameConfig_1=require("./GameConfig"),layaMaxUI_1=require("./ui/layaMaxUI");function Main(){var _this=this;Laya.isWXOpenDataContext=!0,Laya.isWXPosMsg=!0,Laya.init(GameConfig_1.default.width,GameConfig_1.default.height,!1),Laya.stage.scaleMode=GameConfig_1.default.scaleMode,Laya.stage.screenMode=GameConfig_1.default.screenMode,Laya.stage.alignV=GameConfig_1.default.alignV,Laya.stage.alignH=GameConfig_1.default.alignH,Laya.Browser.onMiniGame?Laya.Browser.window.wx.onMessage(function(data){0==data.type&&_this.init(data.openId)}):this.init(null)}Main.prototype.init=function(str){this.openId=str,this.v=new layaMaxUI_1.ui.test.RankListUI,this.v.list.vScrollBarSkin="",null==str?this.v.list.array=[,,,,,,,,,,,,,,,,,,,,,,,]:(this.v.list.array=[],this.v.list.renderHandler=new Laya.Handler(this,this.renderFun),this.getData()),Laya.stage.addChild(this.v)},Main.prototype.getData=function(){var _this=this,obj={keyList:["stageNum"],success:function(res){_this.setArray(res.data)}};Laya.Browser.window.wx.getFriendCloudStorage(obj)},Main.prototype.setArray=function(arr){for(var _i=0,arr_1=arr;_i<arr_1.length;_i++){var i=arr_1[_i];i.dataobj=this.getObj(i.KVDataList)}arr.sort(this.sortFun),this.v.list.array=arr;for(var j=0;j<arr.length;j++)arr[j].openid==this.openId&&(this.myIndex=j);this.v.myText.text="我的排名:"+(this.myIndex+1)},Main.prototype.sortFun=function(a,b){return parseInt(b.dataobj.stageNum+"")-parseInt(a.dataobj.stageNum+"")},Main.prototype.getObj=function(arr){for(var robj={},_i=0,arr_2=arr;_i<arr_2.length;_i++){var i=arr_2[_i];robj[i.key]=i.value}return robj},Main.prototype.renderFun=function(cell,index){if(null!=this.openId){var o=this.v.list.getItem(index);cell.fc.value=index+1+"",cell.txt.text=o.nickname,cell.img.visible=!1,cell.fc.visible=!1,index<3?(cell.img.visible=!0,0==index?cell.img.skin="rank/jinpai.png":1==index?cell.img.skin="rank/yinpai.png":2==index&&(cell.img.skin="rank/tongpai.png")):(cell.fc.visible=!0,cell.fc.value=index+1+""),cell.head.skin=o.avatarUrl,cell.stageFc.value=o.dataobj.stageNum,cell.selectBg.visible=index==this.myIndex}},new Main},{"./GameConfig":1,"./ui/layaMaxUI":3}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ui,View=Laya.View,REG=Laya.ClassUtils.regClass;!function(test){var RankListUI=function(_super){function RankListUI(){return _super.call(this)||this}return __extends(RankListUI,_super),RankListUI.prototype.createChildren=function(){_super.prototype.createChildren.call(this),this.createView(RankListUI.uiView)},RankListUI.uiView={type:"View",props:{width:610,mouseThrough:!0,mouseEnabled:!0,height:800},compId:2,child:[{type:"Rect",props:{y:749,x:413,width:197,lineWidth:1,height:39,fillColor:"#645031"},compId:7},{type:"Rect",props:{y:0,x:0,width:610,lineWidth:0,height:700,fillColor:"#ffffff"},compId:6},{type:"List",props:{y:0,x:0,width:610,var:"list",spaceY:0,repeatX:1,mouseThrough:!0,height:700},compId:3,child:[{type:"RankRender",props:{y:0,x:0,renderType:"render",runtime:"ui.test.RankRenderUI"},compId:4}]},{type:"Text",props:{y:751,x:387,width:215,var:"myText",text:"我的排名:50",height:40,fontSize:30,color:"#492a0e",align:"right",runtime:"laya.display.Text"},compId:5}],loadList:[],loadList3D:[]},RankListUI}(View);test.RankListUI=RankListUI,REG("ui.test.RankListUI",RankListUI);var RankRenderUI=function(_super){function RankRenderUI(){return _super.call(this)||this}return __extends(RankRenderUI,_super),RankRenderUI.prototype.createChildren=function(){_super.prototype.createChildren.call(this),this.createView(RankRenderUI.uiView)},RankRenderUI.uiView={type:"View",props:{width:609,mouseEnabled:!1,height:95},compId:2,child:[{type:"Rect",props:{y:0,x:0,width:609,height:95,fillColor:"#ffffff"},compId:10},{type:"Image",props:{y:4,x:6,width:597,var:"bg",skin:"rank/paimingBG.png",sizeGrid:"16,78,11,95",height:87},compId:3},{type:"Image",props:{y:2,x:4,width:601,var:"selectBg",skin:"rank/paiminglv.png",sizeGrid:"23,30,26,36",height:91},compId:9},{type:"FontClip",props:{y:22,x:-8,width:120,var:"fc",value:"1",skin:"rank/clip_shuzi.png",sheet:"1234 5678 90-+",height:57,align:"center"},compId:4},{type:"Image",props:{y:13,x:22,var:"img",skin:"rank/jinpai.png"},compId:5},{type:"FontClip",props:{y:24,x:421,width:95,var:"stageFc",value:"10",skin:"rank/clip_shuzi.png",sheet:"1234 5678 90-+",height:57,align:"right"},compId:6},{type:"Image",props:{y:20,x:101,width:55,var:"head",height:55},compId:7},{type:"Text",props:{y:24,x:174,width:269,var:"txt",valign:"middle",text:"刘跃进",height:48,fontSize:30,color:"#492a0e",align:"left",runtime:"laya.display.Text"},compId:8}],loadList:["rank/paimingBG.png","rank/paiminglv.png","rank/clip_shuzi.png","rank/jinpai.png"],loadList3D:[]},RankRenderUI}(View);test.RankRenderUI=RankRenderUI,REG("ui.test.RankRenderUI",RankRenderUI)}((ui=exports.ui||(exports.ui={})).test||(ui.test={}))},{}]},{},[2]);